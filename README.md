# ระบบแทงหวย - Lottery Betting System

ระบบแทงหวยออนไลน์ที่สมบูรณ์แบบพร้อมระบบจัดการความเสี่ยงสำหรับเจ้ามือ

## คุณสมบัติหลัก

### สำหรับผู้เล่น
- **หน้าแทงหวย**: แป้นพิมพ์ตัวเลข (Numpad) ที่ใช้งานง่าย พร้อมสรุปยอดโพยที่สวยงาม
- **ประวัติการซื้อ**: แสดงผลแบบใบเสร็จ/โพย แยกตามสถานะ (รอผล/ถูกรางวัล/ไม่ถูกรางวัล)
- **ระบบยอดเงิน**: ติดตามยอดเงินแบบเรียลไทม์

### สำหรับเจ้ามือ (Admin)
- **สรุปยอดสู่ (Total Risk)**: แสดงยอดรับแทงของแต่ละเลขในงวด
- **จัดการความเสี่ยง**: ระบบเตือนเลขที่ยอดสู่สูง
- **ดูรายการแทงทั้งหมด**: ตรวจสอบรายการแทงของสมาชิกทั้งหมด

## ประเภทการแทง

- **3 ตัวบน** - จ่าย 500 เท่า
- **3 ตัวโต๊ด** - จ่าย 120 เท่า
- **2 ตัวบน** - จ่าย 90 เท่า
- **2 ตัวล่าง** - จ่าย 90 เท่า
- **วิ่งบน** - จ่าย 3.2 เท่า
- **วิ่งล่าง** - จ่าย 4.2 เท่า

## เทคโนโลยี

- **Frontend**: Vite + Vanilla JavaScript + Tailwind CSS
- **Backend**: Supabase (Database + Authentication)
- **Security**: Row Level Security (RLS) policies

## โครงสร้างฐานข้อมูล

### Tables
1. **profiles** - ข้อมูลผู้ใช้ (role, balance)
2. **lottery_draws** - งวดหวย (draw_number, status)
3. **bets** - โพยแทง (user_id, draw_id, total_amount, status)
4. **bet_numbers** - เลขที่แทง (number, bet_type, amount)
5. **lottery_results** - ผลรางวัล

### Security
- RLS เปิดใช้งานทุก table
- ผู้ใช้เห็นเฉพาะข้อมูลตัวเอง
- Admin เห็นข้อมูลทั้งหมด

## การใช้งาน

### การสมัครสมาชิก
1. กรอกอีเมล รหัสผ่าน และชื่อ-นามสกุล
2. ระบบจะให้ยอดเงินเริ่มต้น 1,000 บาท

### การแทงหวย
1. เลือกประเภทการแทง
2. กดตัวเลขจาก Numpad เพื่อใส่เลข
3. กดตัวเลขอีกครั้งเพื่อใส่จำนวนเงิน
4. กด "เพิ่มในโพย" เพื่อเพิ่มรายการ
5. ตรวจสอบโพยแทงและกด "ยืนยันการแทง"

### การดูประวัติ
- คลิกเมนู "ประวัติ" เพื่อดูรายการแทงทั้งหมด
- กรองตามสถานะ: ทั้งหมด/รอผล/ถูกรางวัล/ไม่ถูกรางวัล

### Admin Dashboard
- คลิกเมนู "Admin" (เฉพาะ Admin)
- ดูสรุปยอดสู่ของแต่ละเลข
- ระบบแจ้งเตือนเลขที่มีความเสี่ยงสูง (สีแดง)
- ดูรายการแทงทั้งหมดของสมาชิก

## การสร้าง Admin User

ในการทดสอบระบบ Admin คุณสามารถแก้ไข role ใน Supabase Dashboard:

1. ไปที่ Table Editor > profiles
2. เลือกผู้ใช้ที่ต้องการ
3. แก้ไข field `role` เป็น `admin`

## Development

ระบบพร้อมใช้งาน! เปิดแอพเพื่อเริ่มทดสอบฟีเจอร์ต่างๆ